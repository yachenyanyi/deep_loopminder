<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spotify风格音乐播放器</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* 基础重置和变量 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --spotify-green: #1DB954;
            --spotify-dark: #121212;
            --spotify-gray: #212121;
            --spotify-light-gray: #535353;
            --spotify-text: #FFFFFF;
            --spotify-text-secondary: #B3B3B3;
            --sidebar-width: 240px;
            --player-height: 90px;
            --main-content-padding: 24px;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--spotify-dark);
            color: var(--spotify-text);
            height: 100vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        /* 主容器布局 */
        .container {
            display: flex;
            flex: 1;
            overflow: hidden;
        }

        /* 侧边栏样式 */
        .sidebar {
            width: var(--sidebar-width);
            background-color: #000000;
            padding: 24px 12px;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 32px;
            padding: 0 12px;
        }

        .logo i {
            font-size: 32px;
            color: var(--spotify-green);
        }

        .logo h1 {
            font-size: 24px;
            font-weight: 700;
            background: linear-gradient(45deg, var(--spotify-green), #1ED760);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .nav-section {
            margin-bottom: 24px;
        }

        .nav-title {
            font-size: 12px;
            font-weight: 600;
            color: var(--spotify-text-secondary);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 16px;
            padding: 0 12px;
        }

        .nav-item {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px;
            margin-bottom: 4px;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
            color: var(--spotify-text-secondary);
        }

        .nav-item:hover {
            background-color: var(--spotify-gray);
            color: var(--spotify-text);
        }

        .nav-item.active {
            background-color: var(--spotify-gray);
            color: var(--spotify-text);
        }

        .nav-item i {
            font-size: 20px;
            width: 24px;
            text-align: center;
        }

        .nav-item span {
            font-size: 14px;
            font-weight: 500;
        }

        .playlist-section {
            flex: 1;
            overflow-y: auto;
        }

        .playlist-item {
            padding: 8px 12px;
            color: var(--spotify-text-secondary);
            cursor: pointer;
            font-size: 14px;
            border-radius: 4px;
            margin-bottom: 4px;
            transition: color 0.2s;
        }

        .playlist-item:hover {
            color: var(--spotify-text);
        }

        .playlist-item.active {
            color: var(--spotify-text);
            background-color: var(--spotify-gray);
        }

        .create-playlist {
            display: flex;
            align-items: center;
            gap: 16px;
            padding: 12px;
            margin-top: 16px;
            color: var(--spotify-text-secondary);
            cursor: pointer;
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        .create-playlist:hover {
            background-color: var(--spotify-gray);
            color: var(--spotify-text);
        }

        .create-playlist i {
            font-size: 20px;
            width: 24px;
            text-align: center;
        }

        /* 主要内容区域 */
        .main-content {
            flex: 1;
            background: linear-gradient(180deg, #1f1f1f 0%, var(--spotify-dark) 100%);
            overflow-y: auto;
            padding: var(--main-content-padding);
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 32px;
        }

        .navigation-buttons {
            display: flex;
            gap: 16px;
        }

        .nav-btn {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: rgba(0, 0, 0, 0.7);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: var(--spotify-text);
            transition: background-color 0.2s;
        }

        .nav-btn:hover {
            background-color: rgba(0, 0, 0, 0.9);
        }

        .user-profile {
            display: flex;
            align-items: center;
            gap: 12px;
            background-color: rgba(0, 0, 0, 0.7);
            padding: 6px 12px;
            border-radius: 23px;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .user-profile:hover {
            background-color: rgba(0, 0, 0, 0.9);
        }

        .user-avatar {
            width: 28px;
            height: 28px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
        }

        .user-name {
            font-size: 14px;
            font-weight: 500;
        }

        /* 播放列表和音乐网格 */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 24px;
            font-weight: 700;
        }

        .show-all {
            font-size: 14px;
            color: var(--spotify-text-secondary);
            cursor: pointer;
            transition: color 0.2s;
        }

        .show-all:hover {
            color: var(--spotify-text);
            text-decoration: underline;
        }

        .music-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
            gap: 24px;
            margin-bottom: 40px;
        }

        .music-card {
            background-color: var(--spotify-gray);
            border-radius: 8px;
            padding: 16px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            position: relative;
            overflow: hidden;
        }

        .music-card:hover {
            background-color: #2a2a2a;
            transform: translateY(-4px);
        }

        .music-card:hover .play-overlay {
            opacity: 1;
            transform: translateY(0);
        }

        .album-cover {
            width: 100%;
            aspect-ratio: 1;
            border-radius: 4px;
            margin-bottom: 16px;
            position: relative;
            overflow: hidden;
        }

        .album-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .play-overlay {
            position: absolute;
            bottom: 8px;
            right: 8px;
            width: 48px;
            height: 48px;
            background-color: var(--spotify-green);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: translateY(8px);
            transition: opacity 0.3s, transform 0.3s;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .play-overlay i {
            font-size: 20px;
            color: #000;
        }

        .music-info {
            min-height: 72px;
        }

        .music-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 8px;
            display: -webkit-box;
            -webkit-line-clamp: 1;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        .music-artist {
            font-size: 14px;
            color: var(--spotify-text-secondary);
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }

        /* 播放器控件 */
        .player {
            height: var(--player-height);
            background-color: #181818;
            border-top: 1px solid #282828;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 16px;
            position: relative;
            z-index: 100;
        }

        .now-playing {
            display: flex;
            align-items: center;
            gap: 14px;
            width: 30%;
            min-width: 180px;
        }

        .now-playing-cover {
            width: 56px;
            height: 56px;
            border-radius: 4px;
            overflow: hidden;
        }

        .now-playing-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .now-playing-info {
            display: flex;
            flex-direction: column;
            gap: 4px;
        }

        .now-playing-title {
            font-size: 14px;
            font-weight: 500;
            color: var(--spotify-text);
        }

        .now-playing-artist {
            font-size: 12px;
            color: var(--spotify-text-secondary);
        }

        .player-controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            width: 40%;
            max-width: 722px;
        }

        .control-buttons {
            display: flex;
            align-items: center;
            gap: 24px;
        }

        .control-btn {
            background: none;
            border: none;
            color: var(--spotify-text-secondary);
            cursor: pointer;
            font-size: 16px;
            transition: color 0.2s;
        }

        .control-btn:hover {
            color: var(--spotify-text);
        }

        .control-btn.play-pause {
            background-color: var(--spotify-text);
            color: #000;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        .control-btn.play-pause:hover {
            transform: scale(1.05);
        }

        .progress-container {
            display: flex;
            align-items: center;
            gap: 12px;
            width: 100%;
        }

        .progress-time {
            font-size: 11px;
            color: var(--spotify-text-secondary);
            min-width: 40px;
            text-align: center;
        }

        .progress-bar {
            flex: 1;
            height: 4px;
            background-color: #4d4d4d;
            border-radius: 2px;
            cursor: pointer;
            position: relative;
        }

        .progress {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            background-color: var(--spotify-text);
            border-radius: 2px;
            width: 30%;
        }

        .progress:hover {
            background-color: var(--spotify-green);
        }

        .player-options {
            display: flex;
            align-items: center;
            gap: 16px;
            width: 30%;
            justify-content: flex-end;
        }

        .volume-container {
            display: flex;
            align-items: center;
            gap: 8px;
            width: 120px;
        }

        .volume-icon {
            color: var(--spotify-text-secondary);
            font-size: 16px;
            width: 20px;
        }

        .volume-slider {
            flex: 1;
            height: 4px;
            background-color: #4d4d4d;
            border-radius: 2px;
            cursor: pointer;
            position: relative;
        }

        .volume-level {
            position: absolute;
            left: 0;
            top: 0;
            height: 100%;
            background-color: var(--spotify-text);
            border-radius: 2px;
            width: 70%;
        }

        /* 响应式设计 */
        @media (max-width: 1200px) {
            .sidebar {
                width: 200px;
            }
            
            .music-grid {
                grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            }
        }

        @media (max-width: 992px) {
            .sidebar {
                width: 80px;
                padding: 24px 8px;
            }
            
            .logo h1, .nav-item span, .playlist-item, .create-playlist span, .nav-title {
                display: none;
            }
            
            .logo {
                justify-content: center;
                padding: 0;
            }
            
            .nav-item, .create-playlist {
                justify-content: center;
                padding: 12px 0;
            }
            
            .music-grid {
                grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
                flex-direction: row;
                padding: 12px;
                overflow-x: auto;
                overflow-y: hidden;
            }
            
            .logo {
                margin-bottom: 0;
                margin-right: 20px;
            }
            
            .nav-section {
                margin-bottom: 0;
                display: flex;
                gap: 12px;
            }
            
            .nav-title {
                display: none;
            }
            
            .playlist-section, .create-playlist {
                display: none;
            }
            
            .music-grid {
                grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
                gap: 16px;
            }
            
            .player {
                flex-wrap: wrap;
                height: auto;
                padding: 12px;
            }
            
            .now-playing, .player-controls, .player-options {
                width: 100%;
                margin-bottom: 12px;
            }
        }

        /* 动画效果 */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .playing .now-playing-cover {
            animation: pulse 2s infinite;
        }

        /* 滚动条样式 */
        ::-webkit-scrollbar {
            width: 12px;
        }

        ::-webkit-scrollbar-track {
            background: transparent;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--spotify-light-gray);
            border-radius: 6px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #5a5a5a;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- 侧边栏 -->
        <div class="sidebar">
            <div class="logo">
                <i class="fab fa-spotify"></i>
                <h1>MusicWave</h1>
            </div>

            <div class="nav-section">
                <div class="nav-title">导航</div>
                <div class="nav-item active">
                    <i class="fas fa-home"></i>
                    <span>首页</span>
                </div>
                <div class="nav-item">
                    <i class="fas fa-search"></i>
                    <span>搜索</span>
                </div>
                <div class="nav-item">
                    <i class="fas fa-book"></i>
                    <span>音乐库</span>
                </div>
            </div>

            <div class="nav-section">
                <div class="nav-title">播放列表</div>
                <div class="playlist-section">
                    <div class="playlist-item active">发现每周</div>
                    <div class="playlist-item">热门推荐</div>
                    <div class="playlist-item">放松时刻</div>
                    <div class="playlist-item">工作专注</div>
                    <div class="playlist-item">健身能量</div>
                    <div class="playlist-item">旅行伴侣</div>
                    <div class="playlist-item">经典回响</div>
                    <div class="playlist-item">最新发布</div>
                </div>
                <div class="create-playlist">
                    <i class="fas fa-plus"></i>
                    <span>创建播放列表</span>
                </div>
            </div>
        </div>

        <!-- 主要内容区域 -->
        <div class="main-content">
            <div class="header">
                <div class="navigation-buttons">
                    <div class="nav-btn">
                        <i class="fas fa-chevron-left"></i>
                    </div>
                    <div class="nav-btn">
                        <i class="fas fa-chevron-right"></i>
                    </div>
                </div>
                <div class="user-profile">
                    <div class="user-avatar">U</div>
                    <div class="user-name">用户</div>
                    <i class="fas fa-chevron-down"></i>
                </div>
            </div>

            <!-- 推荐音乐部分 -->
            <div class="music-section">
                <div class="section-header">
                    <h2 class="section-title">推荐给你</h2>
                    <div class="show-all">显示全部</div>
                </div>
                <div class="music-grid" id="recommendedMusic">
                    <!-- 音乐卡片将通过JavaScript动态生成 -->
                </div>
            </div>

            <!-- 热门播放列表 -->
            <div class="music-section">
                <div class="section-header">
                    <h2 class="section-title">热门播放列表</h2>
                    <div class="show-all">显示全部</div>
                </div>
                <div class="music-grid" id="popularPlaylists">
                    <!-- 播放列表卡片将通过JavaScript动态生成 -->
                </div>
            </div>

            <!-- 最近播放 -->
            <div class="music-section">
                <div class="section-header">
                    <h2 class="section-title">最近播放</h2>
                    <div class="show-all">显示全部</div>
                </div>
                <div class="music-grid" id="recentlyPlayed">
                    <!-- 最近播放卡片将通过JavaScript动态生成 -->
                </div>
            </div>
        </div>
    </div>

    <!-- 播放器控件 -->
    <div class="player">
        <div class="now-playing">
            <div class="now-playing-cover">
                <img src="https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80" alt="专辑封面">
            </div>
            <div class="now-playing-info">
                <div class="now-playing-title" id="currentSongTitle">Blinding Lights</div>
                <div class="now-playing-artist" id="currentSongArtist">The Weeknd</div>
            </div>
            <div class="like-btn">
                <i class="far fa-heart"></i>
            </div>
        </div>

        <div class="player-controls">
            <div class="control-buttons">
                <button class="control-btn shuffle">
                    <i class="fas fa-random"></i>
                </button>
                <button class="control-btn prev">
                    <i class="fas fa-step-backward"></i>
                </button>
                <button class="control-btn play-pause" id="playPauseBtn">
                    <i class="fas fa-play" id="playPauseIcon"></i>
                </button>
                <button class="control-btn next">
                    <i class="fas fa-step-forward"></i>
                </button>
                <button class="control-btn repeat">
                    <i class="fas fa-redo"></i>
                </button>
            </div>
            <div class="progress-container">
                <div class="progress-time" id="currentTime">0:00</div>
                <div class="progress-bar" id="progressBar">
                    <div class="progress" id="progress"></div>
                </div>
                <div class="progress-time" id="totalTime">3:20</div>
            </div>
        </div>

        <div class="player-options">
            <div class="volume-container">
                <div class="volume-icon">
                    <i class="fas fa-volume-up"></i>
                </div>
                <div class="volume-slider" id="volumeSlider">
                    <div class="volume-level" id="volumeLevel"></div>
                </div>
            </div>
            <button class="control-btn">
                <i class="fas fa-list-ul"></i>
            </button>
            <button class="control-btn">
                <i class="fas fa-expand-alt"></i>
            </button>
        </div>
    </div>

    <script>
        // 音乐数据
        const musicData = {
            recommended: [
                {
                    id: 1,
                    title: "Blinding Lights",
                    artist: "The Weeknd",
                    cover: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
                    duration: "3:20"
                },
                {
                    id: 2,
                    title: "Stay",
                    artist: "The Kid LAROI, Justin Bieber",
                    cover: "https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
                    duration: "2:21"
                },
                {
                    id: 3,
                    title: "Good 4 U",
                    artist: "Olivia Rodrigo",
                    cover: "https://images.unsplash.com/photo-1518609878373-06d740f60d8b?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
                    duration: "2:58"
                },
                {
                    id: 4,
                    title: "Levitating",
                    artist: "Dua Lipa",
                    cover: "https://images.unsplash.com/photo-1517230878791-4d28214057c2?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
                    duration: "3:23"
                },
                {
                    id: 5,
                    title: "Save Your Tears",
                    artist: "The Weeknd",
                    cover: "https://images.unsplash.com/photo-1518609878373-06d740f60d8b?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
                    duration: "3:35"
                },
                {
                    id: 6,
                    title: "Heat Waves",
                    artist: "Glass Animals",
                    cover: "https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
                    duration: "3:58"
                }
            ],
            playlists: [
                {
                    id: 1,
                    title: "今日热门",
                    description: "全球最热门的50首歌曲",
                    cover: "https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80"
                },
                {
                    id: 2,
                    title: "放松时刻",
                    description: "平静心情的轻音乐",
                    cover: "https://images.unsplash.com/photo-1518609878373-06d740f60d8b?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80"
                },
                {
                    id: 3,
                    title: "健身能量",
                    description: "高强度训练音乐",
                    cover: "https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80"
                },
                {
                    id: 4,
                    title: "工作专注",
                    description: "提高工作效率",
                    cover: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80"
                },
                {
                    id: 5,
                    title: "旅行伴侣",
                    description: "旅途中的最佳伴侣",
                    cover: "https://images.unsplash.com/photo-1517230878791-4d28214057c2?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80"
                },
                {
                    id: 6,
                    title: "经典回响",
                    description: "永不褪色的经典",
                    cover: "https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80"
                }
            ],
            recentlyPlayed: [
                {
                    id: 1,
                    title: "Industry Baby",
                    artist: "Lil Nas X, Jack Harlow",
                    cover: "https://images.unsplash.com/photo-1518609878373-06d740f60d8b?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
                    duration: "3:32"
                },
                {
                    id: 2,
                    title: "Kiss Me More",
                    artist: "Doja Cat ft. SZA",
                    cover: "https://images.unsplash.com/photo-1511379938547-c1f69419868d?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
                    duration: "3:28"
                },
                {
                    id: 3,
                    title: "Montero",
                    artist: "Lil Nas X",
                    cover: "https://images.unsplash.com/photo-1493225457124-a3eb161ffa5f?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
                    duration: "2:50"
                },
                {
                    id: 4,
                    title: "Peaches",
                    artist: "Justin Bieber ft. Daniel Caesar",
                    cover: "https://images.unsplash.com/photo-1517230878791-4d28214057c2?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
                    duration: "3:18"
                },
                {
                    id: 5,
                    title: "Butter",
                    artist: "BTS",
                    cover: "https://images.unsplash.com/photo-1470225620780-dba8ba36b745?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
                    duration: "2:44"
                },
                {
                    id: 6,
                    title: "Stay With Me",
                    artist: "Calvin Harris",
                    cover: "https://images.unsplash.com/photo-1518609878373-06d740f60d8b?ixlib=rb-4.0.3&auto=format&fit=crop&w=200&q=80",
                    duration: "3:49"
                }
            ]
        };

        // 应用状态
        let isPlaying = false;
        let currentTime = 0;
        let totalTime = 200; // 3:20 in seconds
        let volume = 0.7;
        let currentSongIndex = 0;
        let currentPlaylist = 'recommended';

        // DOM元素
        const playPauseBtn = document.getElementById('playPauseBtn');
        const playPauseIcon = document.getElementById('playPauseIcon');
        const progress = document.getElementById('progress');
        const progressBar = document.getElementById('progressBar');
        const currentTimeEl = document.getElementById('currentTime');
        const totalTimeEl = document.getElementById('totalTime');
        const volumeSlider = document.getElementById('volumeSlider');
        const volumeLevel = document.getElementById('volumeLevel');
        const currentSongTitle = document.getElementById('currentSongTitle');
        const currentSongArtist = document.getElementById('currentSongArtist');

        // 初始化音乐网格
        function initializeMusicGrids() {
            renderMusicGrid('recommendedMusic', musicData.recommended);
            renderMusicGrid('popularPlaylists', musicData.playlists, true);
            renderMusicGrid('recentlyPlayed', musicData.recentlyPlayed);
        }

        // 渲染音乐网格
        function renderMusicGrid(containerId, items, isPlaylist = false) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            items.forEach(item => {
                const card = document.createElement('div');
                card.className = 'music-card';
                card.dataset.id = item.id;
                card.dataset.type = isPlaylist ? 'playlist' : 'song';
                
                if (isPlaylist) {
                    card.innerHTML = `
                        <div class="album-cover">
                            <img src="${item.cover}" alt="${item.title}">
                            <div class="play-overlay">
                                <i class="fas fa-play"></i>
                            </div>
                        </div>
                        <div class="music-info">
                            <div class="music-title">${item.title}</div>
                            <div class="music-artist">${item.description}</div>
                        </div>
                    `;
                } else {
                    card.innerHTML = `
                        <div class="album-cover">
                            <img src="${item.cover}" alt="${item.title}">
                            <div class="play-overlay">
                                <i class="fas fa-play"></i>
                            </div>
                        </div>
                        <div class="music-info">
                            <div class="music-title">${item.title}</div>
                            <div class="music-artist">${item.artist}</div>
                        </div>
                    `;
                }
                
                container.appendChild(card);
                
                // 添加点击事件
                card.addEventListener('click', function(e) {
                    if (!e.target.closest('.play-overlay')) {
                        if (isPlaylist) {
                            alert(`打开播放列表: ${item.title}`);
                        } else {
                            playSong(item);
                        }
                    }
                });
                
                // 播放按钮点击事件
                const playOverlay = card.querySelector('.play-overlay');
                playOverlay.addEventListener('click', function(e) {
                    e.stopPropagation();
                    if (isPlaylist) {
                        alert(`播放播放列表: ${item.title}`);
                    } else {
                        playSong(item);
                    }
                });
            });
        }

        // 播放歌曲
        function playSong(song) {
            currentSongTitle.textContent = song.title;
            currentSongArtist.textContent = song.artist;
            isPlaying = true;
            playPauseIcon.className = 'fas fa-pause';
            document.querySelector('.player').classList.add('playing');
            
            // 解析时间
            const timeParts = song.duration.split(':');
            totalTime = parseInt(timeParts[0]) * 60 + parseInt(timeParts[1]);
            totalTimeEl.textContent = song.duration;
            
            // 重置进度
            currentTime = 0;
            updateProgress();
            
            // 开始模拟播放
            simulatePlayback();
        }

        // 模拟播放进度
        function simulatePlayback() {
            if (isPlaying && currentTime < totalTime) {
                currentTime++;
                updateProgress();
                
                // 每秒更新一次
                setTimeout(simulatePlayback, 1000);
            } else if (currentTime >= totalTime) {
                // 歌曲结束
                isPlaying = false;
                playPauseIcon.className = 'fas fa-play';
                document.querySelector('.player').classList.remove('playing');
            }
        }

        // 更新进度条
        function updateProgress() {
            const progressPercent = (currentTime / totalTime) * 100;
            progress.style.width = `${progressPercent}%`;
            
            // 更新时间显示
            const minutes = Math.floor(currentTime / 60);
            const seconds = Math.floor(currentTime % 60);
            currentTimeEl.textContent = `${minutes}:${seconds.toString().padStart(2, '0')}`;
        }

        // 格式化时间
        function formatTime(seconds) {
            const minutes = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${minutes}:${secs.toString().padStart(2, '0')}`;
        }

        // 事件监听器
        function setupEventListeners() {
            // 播放/暂停按钮
            playPauseBtn.addEventListener('click', function() {
                isPlaying = !isPlaying;
                if (isPlaying) {
                    playPauseIcon.className = 'fas fa-pause';
                    document.querySelector('.player').classList.add('playing');
                    simulatePlayback();
                } else {
                    playPauseIcon.className = 'fas fa-play';
                    document.querySelector('.player').classList.remove('playing');
                }
            });

            // 进度条点击
            progressBar.addEventListener('click', function(e) {
                const rect = progressBar.getBoundingClientRect();
                const clickX = e.clientX - rect.left;
                const width = rect.width;
                const percent = clickX / width;
                
                currentTime = percent * totalTime;
                updateProgress();
            });

            // 音量控制
            volumeSlider.addEventListener('click', function(e) {
                const rect = volumeSlider.getBoundingClientRect();
                const clickX = e.clientX - rect.left;
                const width = rect.width;
                volume = clickX / width;
                
                volumeLevel.style.width = `${volume * 100}%`;
                
                // 更新音量图标
                const volumeIcon = document.querySelector('.volume-icon i');
                if (volume === 0) {
                    volumeIcon.className = 'fas fa-volume-mute';
                } else if (volume < 0.5) {
                    volumeIcon.className = 'fas fa-volume-down';
                } else {
                    volumeIcon.className = 'fas fa-volume-up';
                }
            });

            // 导航按钮
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    this.style.backgroundColor = 'rgba(0, 0, 0, 0.5)';
                    setTimeout(() => {
                        this.style.backgroundColor = '';
                    }, 200);
                });
            });

            // 导航项
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // 播放列表项
            document.querySelectorAll('.playlist-item').forEach(item => {
                item.addEventListener('click', function() {
                    document.querySelectorAll('.playlist-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                });
            });

            // 用户资料
            document.querySelector('.user-profile').addEventListener('click', function() {
                alert('用户菜单');
            });

            // 显示全部按钮
            document.querySelectorAll('.show-all').forEach(btn => {
                btn.addEventListener('click', function() {
                    const sectionTitle = this.previousElementSibling.textContent;
                    alert(`显示所有: ${sectionTitle}`);
                });
            });

            // 控制按钮
            document.querySelectorAll('.control-btn.shuffle, .control-btn.repeat').forEach(btn => {
                btn.addEventListener('click', function() {
                    this.classList.toggle('active');
                    const icon = this.querySelector('i');
                    if (this.classList.contains('active')) {
                        icon.style.color = 'var(--spotify-green)';
                    } else {
                        icon.style.color = '';
                    }
                });
            });

            // 上一首/下一首按钮
            document.querySelector('.control-btn.prev').addEventListener('click', function() {
                alert('播放上一首');
            });

            document.querySelector('.control-btn.next').addEventListener('click', function() {
                alert('播放下一首');
            });

            // 喜欢按钮
            document.querySelector('.like-btn').addEventListener('click', function() {
                const icon = this.querySelector('i');
                icon.classList.toggle('far');
                icon.classList.toggle('fas');
                if (icon.classList.contains('fas')) {
                    icon.style.color = 'var(--spotify-green)';
                } else {
                    icon.style.color = '';
                }
            });
        }

        // 初始化应用
        function initializeApp() {
            initializeMusicGrids();
            setupEventListeners();
            
            // 设置初始音量
            volumeLevel.style.width = `${volume * 100}%`;
            
            // 播放第一首推荐歌曲
            if (musicData.recommended.length > 0) {
                playSong(musicData.recommended[0]);
            }
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', initializeApp);

        // 添加键盘快捷键支持
        document.addEventListener('keydown', function(e) {
            switch(e.code) {
                case 'Space':
                    e.preventDefault();
                    playPauseBtn.click();
                    break;
                case 'ArrowLeft':
                    e.preventDefault();
                    currentTime = Math.max(0, currentTime - 5);
                    updateProgress();
                    break;
                case 'ArrowRight':
                    e.preventDefault();
                    currentTime = Math.min(totalTime, currentTime + 5);
                    updateProgress();
                    break;
                case 'KeyM':
                    e.preventDefault();
                    volume = volume === 0 ? 0.7 : 0;
                    volumeLevel.style.width = `${volume * 100}%`;
                    break;
            }
        });

        // 添加鼠标滚轮音量控制
        document.addEventListener('wheel', function(e) {
            if (e.ctrlKey) {
                e.preventDefault();
                const delta = e.deltaY > 0 ? -0.1 : 0.1;
                volume = Math.max(0, Math.min(1, volume + delta));
                volumeLevel.style.width = `${volume * 100}%`;
                
                // 更新音量图标
                const volumeIcon = document.querySelector('.volume-icon i');
                if (volume === 0) {
                    volumeIcon.className = 'fas fa-volume-mute';
                } else if (volume < 0.5) {
                    volumeIcon.className = 'fas fa-volume-down';
                } else {
                    volumeIcon.className = 'fas fa-volume-up';
                }
            }
        }, { passive: false });
    </script>
</body>
</html>